<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    
      Kali Linux 渗透测试(OSCP)笔记 0x01
    
  </title>

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Kali Linux 渗透测试(OSCP)笔记 0x01" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="认识 Kali Linux 文件系统 /bin - 基础命令（ls, cd, cat, etc） /sbin - 系统应用（fdisk, mkfs, sysctl, etc） /etc - 配置文件 /tmp - 临时文件（在引导boot时被删除） /usr/bin - 一般应用（apt, ncat, nmap, etc） /usr/share - 存放应用共享文件和数据的目录" />
<meta property="og:description" content="认识 Kali Linux 文件系统 /bin - 基础命令（ls, cd, cat, etc） /sbin - 系统应用（fdisk, mkfs, sysctl, etc） /etc - 配置文件 /tmp - 临时文件（在引导boot时被删除） /usr/bin - 一般应用（apt, ncat, nmap, etc） /usr/share - 存放应用共享文件和数据的目录" />
<link rel="canonical" href="https://blog.securitainment.io/pentest/kali/linux/2020/10/08/pentesting-with-kali-0x01.html" />
<meta property="og:url" content="https://blog.securitainment.io/pentest/kali/linux/2020/10/08/pentesting-with-kali-0x01.html" />
<meta property="og:site_name" content="Securitainment.io" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-08T17:02:46+08:00" />
<script type="application/ld+json">
{"url":"https://blog.securitainment.io/pentest/kali/linux/2020/10/08/pentesting-with-kali-0x01.html","dateModified":"2020-10-08T17:02:46+08:00","datePublished":"2020-10-08T17:02:46+08:00","headline":"Kali Linux 渗透测试(OSCP)笔记 0x01","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.securitainment.io/pentest/kali/linux/2020/10/08/pentesting-with-kali-0x01.html"},"description":"认识 Kali Linux 文件系统 /bin - 基础命令（ls, cd, cat, etc） /sbin - 系统应用（fdisk, mkfs, sysctl, etc） /etc - 配置文件 /tmp - 临时文件（在引导boot时被删除） /usr/bin - 一般应用（apt, ncat, nmap, etc） /usr/share - 存放应用共享文件和数据的目录","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link type="application/atom+xml" rel="alternate" href="https://blog.securitainment.io/feed.xml" title="Securitainment.io" />

  <link rel="shortcut icon" type="image/x-icon" href="/" />
  <link rel="stylesheet" href="https://blog.securitainment.io/assets/css/main.css" />
</head>
<body>
    <main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a href="https://blog.securitainment.io"></a>
<h1>Kali Linux 渗透测试(OSCP)笔记 0x01</h1>
<h2 id="认识-kali">认识 Kali</h2>
<h3 id="linux-文件系统">Linux 文件系统</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/bin</code> - 基础命令（<code class="language-plaintext highlighter-rouge">ls</code>, <code class="language-plaintext highlighter-rouge">cd</code>, <code class="language-plaintext highlighter-rouge">cat</code>, etc）</li>
  <li><code class="language-plaintext highlighter-rouge">/sbin</code> - 系统应用（<code class="language-plaintext highlighter-rouge">fdisk</code>, <code class="language-plaintext highlighter-rouge">mkfs</code>, <code class="language-plaintext highlighter-rouge">sysctl</code>, etc）</li>
  <li><code class="language-plaintext highlighter-rouge">/etc</code> - 配置文件</li>
  <li><code class="language-plaintext highlighter-rouge">/tmp</code> - 临时文件（在引导<code class="language-plaintext highlighter-rouge">boot</code>时被删除）</li>
  <li><code class="language-plaintext highlighter-rouge">/usr/bin</code> - 一般应用（<code class="language-plaintext highlighter-rouge">apt</code>, <code class="language-plaintext highlighter-rouge">ncat</code>, <code class="language-plaintext highlighter-rouge">nmap</code>, etc）</li>
  <li><code class="language-plaintext highlighter-rouge">/usr/share</code> - 存放应用共享文件和数据的目录</li>
</ul>

<h3 id="基础-linux-命令">基础 Linux 命令</h3>
<h4 id="man-命令">man 命令</h4>
<p><code class="language-plaintext highlighter-rouge">man</code> 显示命令的使用手册（manual pages），比如查看<code class="language-plaintext highlighter-rouge">ls</code>命令的使用手册：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man <span class="nb">ls</span>
</code></pre></div></div>

<p>在使用手册页面，命令右边会有一个角标，表示应用的级别，命令的级别分别为：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">级别</th>
      <th style="text-align: left">内容</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1</td>
      <td style="text-align: left">用户命令</td>
    </tr>
    <tr>
      <td style="text-align: left">2</td>
      <td style="text-align: left">系统内核调用的程序接口</td>
    </tr>
    <tr>
      <td style="text-align: left">3</td>
      <td style="text-align: left">C语言库调用的程序接口</td>
    </tr>
    <tr>
      <td style="text-align: left">4</td>
      <td style="text-align: left">特殊文件比如设备节点和驱动</td>
    </tr>
    <tr>
      <td style="text-align: left">5</td>
      <td style="text-align: left">档案格式</td>
    </tr>
    <tr>
      <td style="text-align: left">6</td>
      <td style="text-align: left">游戏</td>
    </tr>
    <tr>
      <td style="text-align: left">7</td>
      <td style="text-align: left">杂项</td>
    </tr>
    <tr>
      <td style="text-align: left">8</td>
      <td style="text-align: left">管理员命令</td>
    </tr>
  </tbody>
</table>

<p>假如我们想要查看<code class="language-plaintext highlighter-rouge">etc/passwd</code>文件的帮助，使用<code class="language-plaintext highlighter-rouge">man passwd</code>显然不是我们想要的，这时使用<code class="language-plaintext highlighter-rouge">-k</code>参数来搜索<code class="language-plaintext highlighter-rouge">passwd</code>关键词相关的内容：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man <span class="nt">-k</span> passwd
checkPasswdAccess <span class="o">(</span>3<span class="o">)</span> - query the SELinux policy database <span class="k">in </span>the kernel
chgpasswd <span class="o">(</span>8<span class="o">)</span>        - update group passwords <span class="k">in </span>batch mode
chpasswd <span class="o">(</span>8<span class="o">)</span>         - update passwords <span class="k">in </span>batch mode
passwd <span class="o">(</span>5<span class="o">)</span>           - the password file
...
</code></pre></div></div>

<p>还可以使用正则来匹配<code class="language-plaintext highlighter-rouge">passwd</code>单词：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man <span class="nt">-k</span> <span class="s1">'^passwd$'</span>
passwd <span class="o">(</span>1<span class="o">)</span>           - change user password
passwd <span class="o">(</span>1ssl<span class="o">)</span>        - compute password hashes
passwd <span class="o">(</span>5<span class="o">)</span>           - the password file
</code></pre></div></div>

<p>这时就可以使用<code class="language-plaintext highlighter-rouge">man 5 passwd</code>来查看<code class="language-plaintext highlighter-rouge">passwd</code>文件的帮助：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man 5 passwd
</code></pre></div></div>
<h4 id="apropos">apropos</h4>
<p><code class="language-plaintext highlighter-rouge">apropos</code> 命令和 <code class="language-plaintext highlighter-rouge">man -k</code> 命令是一样的</p>

<h4 id="列出文件">列出文件</h4>
<p><code class="language-plaintext highlighter-rouge">ls</code> 命令输出基本的文件列表，可以通过多个参数丰富输出的内容，比如使用<code class="language-plaintext highlighter-rouge">-a</code>参数输出所有文件（包括隐藏文件），使用<code class="language-plaintext highlighter-rouge">-l</code>参数输出文件更多信息：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls
</span>Desktop  Documents  Downloads  Music  PentestEnv  Pictures  Public  Templates  Videos
<span class="nv">$ </span><span class="nb">ls</span> /etc/apache2/sites-available/<span class="k">*</span>.conf
/etc/apache2/sites-available/000-default.conf
/etc/apache2/sites-available/default-ssl.conf
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-al</span>
<span class="nb">.</span>
..
.bash_history
.bashrc
.cache
.config
Desktop
Documents
</code></pre></div></div>

<h4 id="定位到不同目录">定位到不同目录</h4>
<p>Linux 不使用 Windows 风格的盘符，所有文件、文件夹、设备等，全部在根目录<code class="language-plaintext highlighter-rouge">/</code>下的子目录中。使用<code class="language-plaintext highlighter-rouge">cd</code>命令来更改当前所在目录，使用<code class="language-plaintext highlighter-rouge">pwd</code>命令输出当前所在目录，使用<code class="language-plaintext highlighter-rouge">cd ~</code>命令回到用户根目录：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> /usr/share/metasploit-framework/
/usr/share/metasploit-framework<span class="nv">$ </span><span class="nb">pwd</span>
/usr/share/metasploit-framework
<span class="nv">$ </span><span class="nb">cd</span> ~
/home/kali
</code></pre></div></div>

<h4 id="新建目录">新建目录</h4>
<p>使用<code class="language-plaintext highlighter-rouge">mkdir</code>+目录名来新建目录：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>notes
<span class="nv">$ </span><span class="nb">cd </span>notes/
~/notes<span class="nv">$ </span><span class="nb">mkdir </span>module one
~/notes<span class="nv">$ </span><span class="nb">ls
</span>module  one
~/notes<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> module/ one/
~/notes<span class="nv">$ </span><span class="nb">mkdir</span> <span class="s2">"module one"</span>
<span class="nv">$ </span><span class="nb">cd </span>module<span class="se">\ </span>one/
~/notes/module one<span class="err">$</span>
</code></pre></div></div>

<p>使用<code class="language-plaintext highlighter-rouge">mkdir -p</code>命令一次创建多个目录：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nb">test</span>/<span class="o">{</span>recon,exploit,report<span class="o">}</span>
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> <span class="nb">test</span>/
exploit
recon
report
</code></pre></div></div>

<h2 id="查找文件">查找文件</h2>
<p>在 Kali Linux 中查找文件或文件夹的三个常用命令为：<code class="language-plaintext highlighter-rouge">find, locate, which</code>。</p>

<h3 id="which">which</h3>
<p><a href="https://linux.die.net/man/1/which"><code class="language-plaintext highlighter-rouge">which</code></a> 命令在 <code class="language-plaintext highlighter-rouge">$PATH</code> 定义的环境中查找文件，返回完整路径：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

<span class="nv">$ </span>which sbd
/usr/bin/sbd
</code></pre></div></div>

<h3 id="locate">locate</h3>
<p><a href="https://linux.die.net/man/1/locate"><code class="language-plaintext highlighter-rouge">locate</code></a>命令查找文件或文件夹最快，实际上是通过搜索内置的数据库 <code class="language-plaintext highlighter-rouge">locate.db</code> 查找的，这个数据库自动更新，也可以使用 <code class="language-plaintext highlighter-rouge">updatedb</code> 命令手动更新。</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>updatedb

<span class="nv">$ </span>locate sbd.exe
/usr/share/windows-resources/sbd/sbd.exe
</code></pre></div></div>

<h3 id="find">find</h3>
<p><a href="https://linux.die.net/man/1/find"><code class="language-plaintext highlighter-rouge">find</code></a> 命令是这三个里最复杂和灵活的搜索工具。如在根目录中搜索开头是 “sbd” 的文件：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>find / <span class="nt">-name</span> sbd<span class="k">*</span>
/usr/bin/sbd
/usr/share/doc/sbd
/usr/share/windows-resources/sbd
/usr/share/windows-resources/sbd/sbd.exe
/usr/share/windows-resources/sbd/sbdbg.exe
...
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">find</code> 不仅可以搜索文件和目录名，还可以搜索文件时间、大小、所属、文件类型、权限等…</p>

<h2 id="管理-kali-linux-服务">管理 Kali Linux 服务</h2>
<h3 id="ssh-服务">SSH 服务</h3>
<p>SSH 服务基于 TCP，默认监听 22 端口。开启 SSH 服务的命令为：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl start ssh

</code></pre></div></div>

<p>该命令不输出结果，但是可以通过查找监听 TCP 22 端口的服务来确认已经启动：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>ss <span class="nt">-antlp</span> | <span class="nb">grep </span>sshd
LISTEN     0      128          <span class="k">*</span>:22                       <span class="k">*</span>:<span class="k">*</span>                   <span class="nb">users</span>:<span class="o">((</span><span class="s2">"sshd"</span>,pid<span class="o">=</span>472,fd<span class="o">=</span>3<span class="o">))</span>
LISTEN     0      128         :::22                      :::<span class="k">*</span>                   <span class="nb">users</span>:<span class="o">((</span><span class="s2">"sshd"</span>,pid<span class="o">=</span>472,fd<span class="o">=</span>4<span class="o">))</span>
</code></pre></div></div>

<p>如果希望 SSH 服务在 Kali 开启时自动启动，使用 <code class="language-plaintext highlighter-rouge">systemctl</code> 命令，该命令可以启用或 禁用大部分服务。</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>ssh
Synchronizing state of ssh.service with SysV service script with /lib/systemd/systemd-
Executing: /lib/systemd/systemd-sysv-install <span class="nb">enable </span>ssh
Created symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service.
</code></pre></div></div>

<h3 id="http-服务">HTTP 服务</h3>
<p>HTTP 服务基于 TCP 协议，默认监听 80  端口。启动 HTTP 服务和启用 SSH 服务相似：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl start apache2

</code></pre></div></div>

<p>同样的方法确认 HTTP 服务已经启动：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>ss <span class="nt">-antlp</span> | <span class="nb">grep </span>apache
LISTEN     0      128         :::80                      :::<span class="k">*</span>                   <span class="nb">users</span>:<span class="o">((</span><span class="s2">"apache2"</span>,pid<span class="o">=</span>2434,fd<span class="o">=</span>4<span class="o">)</span>,<span class="o">(</span><span class="s2">"apache2"</span>,pid<span class="o">=</span>2433,fd<span class="o">=</span>4<span class="o">)</span>,<span class="o">(</span><span class="s2">"apache2"</span>,pid<span class="o">=</span>2431,fd<span class="o">=</span>4<span class="o">))</span>
</code></pre></div></div>

<p>让 HTTP 服务开机时启动的方法和设置 SSH 服务的方法一样，使用 <code class="language-plaintext highlighter-rouge">systemctl</code>。</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>apache2
Synchronizing state of apache2.service with SysV service script with /lib/systemd/syst
Executing: /lib/systemd/systemd-sysv-install <span class="nb">enable </span>apache2
</code></pre></div></div>

<p>在 Kali 中大多数服务的操作和操作 SSH 以及 HTTP 服务一样，查看所有可用的服务，运行 <code class="language-plaintext highlighter-rouge">systemctl list-unit-files</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>systemctl list-unit-files
...
UNIT FILE   STATE
proc-sys-fs-binfmt_misc.automount   static
-.mount generated
dev-hugepages.mount static
dev-mqueue.mount    static
media-cdrom0.mount  generated
proc-sys-fs-binfmt_misc.mount   static
run-vmblock<span class="se">\x</span>2dfuse.mount   disabled
sys-fs-fuse-connections.mount   static
sys-kernel-config.mount static
sys-kernel-debug.mount  static
...
</code></pre></div></div>

<h2 id="搜索安装移除工具">搜索、安装、移除工具</h2>
<p>APT 是 Debian-based 系统中管理包和应用的工具，可以安装、移除应用，升级包，甚至升级整个系统。</p>

<h3 id="apt-update">apt update</h3>
<p>为了加快查找 APT 数据库相关操作的速度，APT 包是缓存在本地的。一个好的习惯是升级可用包和相关信息，包括版本等信息列表。使用 <code class="language-plaintext highlighter-rouge">apt update</code>：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt update
Hit:1 http://kali.mirror.globo.tech/kali kali-rolling InRelease
Reading package lists... Done
Building dependency tree
Reading state information... Done
699 packages can be upgraded.
Run <span class="s1">'apt list --upgradable'</span> to see them.
</code></pre></div></div>

<h3 id="apt-upgrade">apt upgrade</h3>
<p>升级完 APT 数据库，就可以升级以安装的包或者系统。比如升级 metasploit-framework：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>apt upgrade metasploit-framework

</code></pre></div></div>

<h3 id="apt-cache-search-和-apt-show"><code class="language-plaintext highlighter-rouge">apt-cache search</code> 和 <code class="language-plaintext highlighter-rouge">apt show</code></h3>
<p><code class="language-plaintext highlighter-rouge">apt-cache search</code> 命令查找内置缓存数据库并提供相关信息。比如要安装 <em>pure-ftpd</em>，第一件事就是查找该工具是否包含在 Kali 源里面：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>apt-cache search pure-ftpd
ftpd - File Transfer Protocol <span class="o">(</span>FTP<span class="o">)</span> server
mysqmail-pure-ftpd-logger - real-time logging system <span class="k">in </span>MySQL - Pure-FTPd traffic-logger
pure-ftpd - Secure and efficient FTP server
pure-ftpd-common - Pure-FTPd FTP server <span class="o">(</span>Common Files<span class="o">)</span>
pure-ftpd-ldap - Secure and efficient FTP server with LDAP user authentication
pure-ftpd-mysql - Secure and efficient FTP server with MySQL user authentication
pure-ftpd-postgresql - Secure and efficient FTP server with PostgreSQL user authentication
resource-agents - Cluster Resource Agents
</code></pre></div></div>

<p>搜索结果中出现了一个 <em>resource-agents</em>，是因为 <code class="language-plaintext highlighter-rouge">apt-cache search</code> 会搜索整个描述文档。使用 <code class="language-plaintext highlighter-rouge">apt-show</code> 来确认 <em>resource-agents</em> 描述中是否包含 “pure-ftpd”：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>apt show resource-agents
Package: resource-agents
Version: 1:4.2.0-2
...
Description: Cluster Resource Agents
This package contains cluster resource agents <span class="o">(</span>RAs<span class="o">)</span> compliant with the Open
Cluster Framework <span class="o">(</span>OCF<span class="o">)</span> specification, used to interface with various services
<span class="k">in </span>a High Availability environment managed by the Pacemaker resource manager.
<span class="nb">.</span>
Agents included:
AoEtarget: Manages ATA-over-Ethernet <span class="o">(</span>AoE<span class="o">)</span> target exports
AudibleAlarm: Emits audible beeps at a configurable interval
...
NodeUtilization: Node Utilization

Pure-FTPd: Manages a Pure-FTPd FTP server instance

Raid1: Manages Linux software RAID <span class="o">(</span>MD<span class="o">)</span> devices on shared storage
...
</code></pre></div></div>

<h3 id="apt-install">apt install</h3>
<p>使用 <code class="language-plaintext highlighter-rouge">apt install</code> 将包安装到系统：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>pure-ftpd
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  openbsd-inetd pure-ftpd-common
The following NEW packages will be installed:
  openbsd-inetd pure-ftpd pure-ftpd-common
0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
Need to get 341 kB of archives.
After this operation, 883 kB of additional disk space will be used.
...
</code></pre></div></div>

<p>同样的，使用 <code class="language-plaintext highlighter-rouge">apt remove --purge</code> 来移除包。</p>

<h3 id="apt-remove-purge">apt remove –purge</h3>
<p><code class="language-plaintext highlighter-rouge">apt remove --purge</code> 完全从系统中移除一个包。需要注意的是 <code class="language-plaintext highlighter-rouge">apt remove</code> 也可以移除安装包但是会留下一些文件（通常是用户修改过的配置文件）。</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt remove <span class="nt">--purge</span> pure-ftpd
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages were automatically installed and are no longer required:
  openbsd-inetd pure-ftpd-common
Use <span class="s1">'sudo apt autoremove'</span> to remove them.
The following packages will be REMOVED:
  pure-ftpd<span class="k">*</span>
0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.
After this operation, 507 kB disk space will be freed.
Do you want to <span class="k">continue</span>? <span class="o">[</span>Y/n] y
<span class="o">(</span>Reading database ... 135806 files and directories currently installed.<span class="o">)</span>
Removing pure-ftpd <span class="o">(</span>1.0.43-3<span class="o">)</span> ...
Processing triggers <span class="k">for </span>man-db <span class="o">(</span>2.7.6.1-2<span class="o">)</span> ...
<span class="o">(</span>Reading database ... 135793 files and directories currently installed.<span class="o">)</span>
Purging configuration files <span class="k">for </span>pure-ftpd <span class="o">(</span>1.0.43-3<span class="o">)</span> ...
Processing triggers <span class="k">for </span>systemd <span class="o">(</span>232-25+deb9u12<span class="o">)</span> ...
</code></pre></div></div>

<h3 id="dpkg">dpkg</h3>
<p><em>dpkg</em> 是用来安装包的工具，无论是否直接通过 APT，它也可以很方便的在离线环境下使用。需要注意的是 <em>dpkg</em> 不会安装任何依赖环境。使用 <code class="language-plaintext highlighter-rouge">dpkg</code> 的 <code class="language-plaintext highlighter-rouge">-i</code> 或者 <code class="language-plaintext highlighter-rouge">--install</code> 选项来安装一个 .deb 包文件，这需要提前获取到 .deb 文件。</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>dpkg <span class="nt">-i</span> man-db_2.7.0.2-5_amd64.deb
<span class="o">(</span>Reading database ... 86425 files and directories currently installed.<span class="o">)</span>
Preparing to unpack man-db_2.7.0.2-5_amd64.deb ...
Unpacking man-db <span class="o">(</span>2.7.0.2-5<span class="o">)</span> over <span class="o">(</span>2.7.0.2-4<span class="o">)</span> ...
Setting up man-db <span class="o">(</span>2.7.0.2-5<span class="o">)</span> ...
Updating database of manual pages ...
Processing triggers <span class="k">for </span>mime-support <span class="o">(</span>3.58<span class="o">)</span> ...
...
</code></pre></div></div>

<br/><p>Comments:</p>

<script src="https://utteranc.es/client.js"
        repo="5cr1pt/commnets.blog.securitainment.io"
        issue-term="url"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>
<div><a href='https://blog.securitainment.io' style='text-align:center'>HOME</a>
</div>
<div style="display:none">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-137221448-1', 'auto');
    ga('send', 'pageview');

  </script>
</div>

        </div>
    </main>

    
    </body>
</html>
